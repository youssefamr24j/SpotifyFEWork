{"ast":null,"code":"var _jsxFileName = \"/home/youssef/Desktop/Phase4/SpotifyFEWork/src/Components/EditProfile.js\";\nimport React from \"react\"; //import{ Component, Fragment } from \"react\";\n////import axios from 'axios'; \n\nimport \"./EditProfile.css\";\nconst emailRegax = RegExp(/^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/);\nconst phonenumberRegex = RegExp(/^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/);\n/*\r\nthis class make the user can change username,email\r\n*/\n\nclass EditProfile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.saveEdit = e => {\n      //e.preventDefault();     \n      if (this.state.passwordd === this.state.data.password) {\n        if (this.state.changeemail === true) {\n          if (this.state.newemail !== this.state.data.email) {\n            const tokenn = localStorage.getItem('tokenfromlogin');\n            let ur5l = process.env.URL + \"/users/me\";\n            let data = {\n              'email': this.state.newemail\n            };\n            fetch(ur5l, {\n              method: 'PATCH',\n              headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Token' + tokenn\n              },\n              body: JSON.stringify(data)\n            }).then(result => {\n              result.json().then(respp => {\n                console.warn(\"respp\".respp);\n                this.setState({\n                  msg: \"Email is changed!\"\n                });\n              });\n            });\n            this.setState({\n              msg: \"Email is changed!\"\n            });\n          } else {\n            this.setState({\n              msg: \"Email is already taken!\"\n            });\n          }\n        }\n        /*\r\n                  if(this.state.changephonenumber===true){\r\n           ///axious.post('http://192.168.1.3:8080/users.json',this.statenewphonenumber)\r\n          \r\n           this.setState({msg:\"your phone number is changed!\"});\r\n                  }\r\n                  if(this.state.changeusername===true){\r\n                   ///\r\n                   let url=\"\thttp://dummy.restapiexample.com/api/v1/create\";\r\n                   let data=this.state.newdisplay_name;\r\n                   fetch(url,{\r\n                     method:'POST',\r\n                     headers:{\r\n                       'Content-Type':'application/json',\r\n                       'Accept':'application/json',\r\n                     },\r\n                     body:JSON.stringify(data)\r\n                   }).then((result) => {\r\n                  result.json().then((respp) =>{\r\n                 console.warn(\"respp\".respp)\r\n                  })\r\n                   })\r\n                 }\r\n        */\n\n\n        if (this.state.changeusername === true) {\n          if (this.state.newdisplay_name !== this.state.data.display_name) {\n            const tokenn = localStorage.getItem('tokenfromlogin');\n            let url55 = process.env.URL + \"/users/me\";\n            let data = {\n              'display_name': this.state.newdisplay_name\n            };\n            fetch(url55, {\n              method: 'PATCH',\n              headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Token' + tokenn\n              },\n              body: JSON.stringify(data)\n            }).then(result => {\n              result.json().then(respp => {\n                console.warn(\"respp\".respp);\n                this.setState({\n                  msg: \"UserName is changed!\"\n                });\n                console.log(this.state.data.email);\n              });\n            });\n          } else {\n            this.setState({\n              msg: \"UserName is already taken!\"\n            });\n          }\n        }\n\n        if (this.state.changeage === true) {\n          const tokenn = localStorage.getItem('tokenfromlogin');\n          let url557 = process.env.URL + \"/users/me\";\n          let data = {\n            'age': this.state.newage\n          };\n          fetch(url557, {\n            method: 'PATCH',\n            headers: {\n              'Content-Type': 'application/json',\n              'Accept': 'application/json',\n              'Authorization': 'Token' + tokenn\n            },\n            body: JSON.stringify(data)\n          }).then(result => {\n            result.json().then(respp => {\n              console.warn(\"respp\".respp);\n              this.setState({\n                msg: \"Age is changed!\"\n              });\n            });\n          });\n        } ////////\n\n\n        if (this.state.changeusername === true || this.state.changeemail === true || this.state.changeage === true) {\n          if (this.state.newemail !== this.state.data.email) {\n            const tokenn = localStorage.getItem('tokenfromlogin');\n            let ura = process.env.URL + \"/users/me\";\n            let data = {\n              'email': this.state.newemail || this.data.email,\n              'display_name': this.state.newdisplay_name || this.data.display_name,\n              'age': this.state.newage || this.state.data.age\n            };\n            fetch(ura, {\n              method: 'PATCH',\n              headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': 'Token' + tokenn\n              },\n              body: JSON.stringify(data)\n            }).then(result => {\n              result.json().then(respp => {\n                console.warn(\"respp\".respp);\n                this.setState({\n                  msg: \"your details is changed!\"\n                });\n              });\n            });\n          } else {\n            this.setState({\n              msg: \"try again!!\"\n            });\n          }\n        } //\n\n      } else {\n        this.setState({\n          msg: \"the password is not correct\"\n        });\n      }\n    };\n\n    this.onChangeemail = e => {\n      this.setState({\n        newemail: e.target.value\n      });\n      let newemailerror = this.state.newemailError;\n      newemailerror = !emailRegax.test(e.target.value) || e.target.value.trim() === \"\" || e.target.value.length > 100 || e.target.value.length < 5 || e.target.value.length === 0 ? \"InvalidEmail!\" : \"\";\n      this.setState({\n        newemailError: newemailerror\n      });\n\n      if (newemailerror === \"\") {\n        this.setState({\n          changeemail: true\n        });\n      }\n    };\n\n    this.onChangephonenumber = e => {\n      this.setState({\n        newphonenumber: e.target.value\n      });\n      let newphonenumbererror = this.state.newphonenumberError;\n      newphonenumbererror = !phonenumberRegex.test(e.target.value) || e.target.value.trim() === \"\" || e.target.value.length !== 10 || e.target.value.length === 0 ? \"InvalidPhoneNumber\" : \"\";\n      this.setState({\n        newphonenumberError: newphonenumbererror\n      });\n\n      if (newphonenumbererror === \"\") {\n        this.setState({\n          changephonenumber: true\n        });\n      }\n    };\n\n    this.onChangepassword = e => {\n      this.setState({\n        passwordd: e.target.value\n      });\n    };\n\n    this.onChangeage = e => {\n      if (e.target.value <= 9 || e.target.value >= 90) {\n        this.setState({\n          newageError: \" Sorry!! Min age is 10 an Max age is 90\"\n        });\n      } else {\n        this.setState({\n          newage: e.target.value,\n          newageError: \"\",\n          changeage: true\n        });\n      }\n    };\n\n    this.onChangeusername = e => {\n      this.setState({\n        newdisplay_name: e.target.value\n      });\n      let usernameerror = this.state.newusernameError;\n      usernameerror = e.target.value.length > 16 || e.target.value.length === 0 || e.target.value.trim() === \"\" || e.target.value.length < 6 ? \"minimum 6charchters And Maxmium 16 charchters are required\" : \"\";\n      this.setState({\n        newusernameError: usernameerror\n      });\n\n      if (this.state.newusernameError === \"\") {\n        this.setState({\n          changeusername: true\n        });\n      }\n    };\n\n    this.onChangegender = e => {\n      this.setState({\n        newgender: e.target.value,\n        changegender: true\n      });\n    };\n\n    this.cancelEdit = e => {\n      //go to home again\n      return window.location.href = \"/account\";\n    };\n\n    this.state = {\n      // newdetails:\n      newemail: \"\",\n      newdisplay_name: \"\",\n      passwordd: \"\",\n      newphonenumber: \"\",\n      newage: \"\",\n      newproduct: \"\",\n      passwordtrue: false,\n      changeemail: false,\n      changeusername: false,\n      changeday: false,\n      changemonth: false,\n      changeyear: false,\n      changegender: false,\n      changephonenumber: false,\n      changeage: false,\n      changeproduct: false,\n      formerrors: {\n        newemailError: \"\",\n        newusernameError: \"\",\n        newphonenumberError: \"\",\n        newageError: \"\",\n        msg: \"\"\n      },\n      donesaving: \"\",\n      data: false\n    };\n  }\n  /*\r\n  this Function take user data and fetch it\r\n  */\n\n\n  componentDidMount() {\n    const tokenn = localStorage.getItem('tokenfromlogin');\n    let url = process.env.URL + \"/me\";\n    fetch(url, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-TYpe': 'application/json',\n        'Authorization': 'Token' + tokenn\n      }\n    }).then(result => {\n      result.json().then(resp => {\n        this.setState({\n          data: resp\n        });\n      });\n    });\n  }\n  /*\r\n  this function check first if user enter the password correctly and then see what he want to change but first check if its not equal with his orginal details\r\n  /**\r\n  * saveEdit submission \r\n  * @function saveEdit\r\n  * @param  {event} - submit event\r\n  */\n\n\n  render() {\n    const data = this.state.data;\n    console.warn(data);\n    var name = this.state.data.display_name || \"\";\n    var e = this.state.data.email || \"\";\n    var aa = this.state.data.age || \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingBottom: 200\n      },\n      className: \"editprofileform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    }, \" Edit Your Profile\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 12\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChangeemail,\n      type: \"text\",\n      placeholder: e,\n      name: \"newemail\",\n      className: \"forminput\",\n      id: \"emailid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errormsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }\n    }, this.state.newemailError), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChangeusername,\n      type: \"text\",\n      placeholder: name,\n      name: \"newdisplay_name\",\n      className: \"forminput\",\n      id: \"usernameid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errormsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }\n    }, this.state.newusernameError), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 1\n      }\n    }, \"Age\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChangeage,\n      type: \"number\",\n      placeholder: aa,\n      name: \"newage\",\n      className: \"forminput\",\n      id: \"ageid\",\n      maxLength: \"2\",\n      minLength: \"1\",\n      pattern: \"[0-9]*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errormsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }\n    }, this.state.newageError), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }\n    }, \"Confirmation Password\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChangepassword,\n      type: \"password\",\n      placeholder: \"Enter Your Password To Confirm Edits\",\n      name: \"passwordid\",\n      className: \"forminput\",\n      required: \"required\",\n      id: \"pass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }\n    }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChangephonenumber,\n      type: \"phonenumber\",\n      maxLength: \"10\",\n      placeholder: \"Enter phone number after '0'\",\n      name: \"newphonenumber\",\n      pattern: \"[0-9]*\",\n      className: \"forminput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errormsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }\n    }, this.state.newphonenumberError), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"errormsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }\n    }, this.state.msg), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"buttonprem\",\n      onClick: this.cancelEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }\n    }, \"Cancel Edits\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"buttonprem2\",\n      onClick: this.saveEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 4\n      }\n    }, \"Save Edits\"));\n  }\n\n}\n\nexport default EditProfile; //  //#1db954;","map":{"version":3,"sources":["/home/youssef/Desktop/Phase4/SpotifyFEWork/src/Components/EditProfile.js"],"names":["React","emailRegax","RegExp","phonenumberRegex","EditProfile","Component","constructor","props","saveEdit","e","state","passwordd","data","password","changeemail","newemail","email","tokenn","localStorage","getItem","ur5l","process","env","URL","fetch","method","headers","body","JSON","stringify","then","result","json","respp","console","warn","setState","msg","changeusername","newdisplay_name","display_name","url55","log","changeage","url557","newage","ura","age","onChangeemail","target","value","newemailerror","newemailError","test","trim","length","onChangephonenumber","newphonenumber","newphonenumbererror","newphonenumberError","changephonenumber","onChangepassword","onChangeage","newageError","onChangeusername","usernameerror","newusernameError","onChangegender","newgender","changegender","cancelEdit","window","location","href","newproduct","passwordtrue","changeday","changemonth","changeyear","changeproduct","formerrors","donesaving","componentDidMount","url","resp","render","name","aa","paddingBottom"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n//import{ Component, Fragment } from \"react\";\r\n////import axios from 'axios'; \r\nimport  \"./EditProfile.css\";\r\nconst emailRegax = RegExp(\r\n  /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\r\n);\r\nconst phonenumberRegex =RegExp( /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/);\r\n\r\n    /*\r\nthis class make the user can change username,email\r\n    */\r\n\r\nclass EditProfile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n         // newdetails:\r\n            newemail: \"\",\r\n            newdisplay_name: \"\",\r\n            passwordd: \"\",\r\n           newphonenumber:\"\",\r\n           newage:\"\",\r\n           newproduct:\"\",\r\n\r\n          passwordtrue:false,\r\n          changeemail:false,\r\n          changeusername:false,\r\n          changeday:false,\r\n          changemonth:false,\r\n          changeyear:false,\r\n          changegender:false,\r\n          changephonenumber:false,\r\n          changeage:false,\r\n          changeproduct:false,\r\n          formerrors: {\r\n            newemailError: \"\",\r\n            newusernameError: \"\",\r\n            newphonenumberError:\"\",\r\n            newageError:\"\",\r\n            msg:\"\",\r\n          },\r\n          donesaving:\"\",\r\n\r\n\r\n            data:false,\r\n\r\n\r\n        };\r\n    }\r\n    /*\r\nthis Function take user data and fetch it\r\n    */\r\n    componentDidMount(){\r\n      const tokenn =localStorage.getItem('tokenfromlogin')\r\n      let url= process.env.URL + \"/me\";\r\n      fetch(url,{\r\n        method:'GET',\r\n        headers:{\r\n          'Accept':'application/json',\r\n          'Content-TYpe':'application/json',\r\n          'Authorization' :'Token'+tokenn\r\n        }\r\n      }).then((result)=> {\r\n       result.json().then((resp) =>{\r\n  \r\n  this.setState({data:resp})\r\n       })\r\n      })\r\n    } \r\n    \r\n        /*\r\nthis function check first if user enter the password correctly and then see what he want to change but first check if its not equal with his orginal details\r\n    /**\r\n   * saveEdit submission \r\n   * @function saveEdit\r\n   * @param  {event} - submit event\r\n   */\r\n   saveEdit =e =>{  \r\n    //e.preventDefault();     \r\n    if(this.state.passwordd===this.state.data.password){\r\n               if(this.state.changeemail===true){\r\n                   if( this.state.newemail !== this.state.data.email) {\r\n                    const tokenn =localStorage.getItem('tokenfromlogin' )                   \r\n                     let ur5l=process.env.URL + \"/users/me\";\r\n                     let data={\r\n                      'email' :this.state.newemail,\r\n                      \r\n                     }\r\n                     fetch(ur5l,{\r\n                       method:'PATCH',\r\n                       headers:{\r\n                         'Content-Type':'application/json',\r\n                         'Accept':'application/json',\r\n                         'Authorization' :'Token'+tokenn\r\n                       },\r\n                       body:JSON.stringify(data)\r\n                     }).then((result) => {\r\n                    result.json().then((respp) =>{\r\n                   console.warn(\"respp\".respp)\r\n                     this.setState({msg:\"Email is changed!\"});\r\n                    })\r\n                     })\r\n                    \r\n                    this.setState({msg:\"Email is changed!\"});\r\n                   }\r\n                   else{\r\n                    this.setState({msg:\"Email is already taken!\"});\r\n                   }\r\n                  }\r\n /*\r\n           if(this.state.changephonenumber===true){\r\n    ///axious.post('http://192.168.1.3:8080/users.json',this.statenewphonenumber)\r\n   \r\n    this.setState({msg:\"your phone number is changed!\"});\r\n           }\r\n           if(this.state.changeusername===true){\r\n            ///\r\n            let url=\"\thttp://dummy.restapiexample.com/api/v1/create\";\r\n            let data=this.state.newdisplay_name;\r\n            fetch(url,{\r\n              method:'POST',\r\n              headers:{\r\n                'Content-Type':'application/json',\r\n                'Accept':'application/json',\r\n              },\r\n              body:JSON.stringify(data)\r\n            }).then((result) => {\r\n           result.json().then((respp) =>{\r\n          console.warn(\"respp\".respp)\r\n           })\r\n            })\r\n          }\r\n*/\r\nif(this.state.changeusername===true){\r\nif( this.state.newdisplay_name!== this.state.data.display_name) {\r\n  const tokenn =localStorage.getItem('tokenfromlogin')\r\n                 \r\n  let url55=process.env.URL +\"/users/me\";\r\n  let data={\r\n    'display_name':this.state.newdisplay_name,\r\n    \r\n  }\r\n  fetch(url55,{\r\n    method:'PATCH',\r\n    headers:{\r\n      'Content-Type':'application/json',\r\n      'Accept':'application/json',\r\n      'Authorization' :'Token'+tokenn  \r\n    },\r\n    body:JSON.stringify(data)\r\n  }).then((result) => {\r\n result.json().then((respp) =>{\r\nconsole.warn(\"respp\".respp)\r\n  this.setState({msg:\"UserName is changed!\"});\r\n  console.log(this.state.data.email)\r\n })\r\n  })\r\n}\r\nelse{this.setState({msg:\"UserName is already taken!\"}) }\r\n}           \r\n   if(this.state.changeage===true){\r\n    const tokenn =localStorage.getItem('tokenfromlogin')\r\n    \r\n    let url557=process.env.URL + \"/users/me\";\r\n    let data={\r\n              'age':this.state.newage,\r\n              \r\n    }\r\n    fetch(url557,{\r\n      method:'PATCH',\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        'Accept':'application/json',\r\n        'Authorization' :'Token'+tokenn\r\n      },\r\n      body:JSON.stringify(data)\r\n    }).then((result) => {\r\n   result.json().then((respp) =>{\r\n  console.warn(\"respp\".respp)\r\n    this.setState({msg:\"Age is changed!\"});\r\n   })\r\n    })\r\n   }\r\n   ////////\r\n   if(this.state.changeusername===true || this.state.changeemail===true || this.state.changeage===true){\r\n    if( this.state.newemail !== this.state.data.email) {\r\n      const tokenn =localStorage.getItem('tokenfromlogin')\r\n      let ura= process.env.URL + \"/users/me\";\r\n      let data={\r\n            'email' :this.state.newemail || this.data.email,\r\n'display_name':this.state.newdisplay_name || this.data.display_name,\r\n'age':this.state.newage || this.state.data.age,\r\n      }\r\n      fetch(ura,{\r\n        method:'PATCH',\r\n        headers:{\r\n          'Content-Type':'application/json',\r\n          'Accept':'application/json',\r\n          'Authorization' :'Token'+tokenn\r\n        },\r\n        body:JSON.stringify(data)\r\n      }).then((result) => {\r\n     result.json().then((respp) =>{\r\n    console.warn(\"respp\".respp)\r\n      this.setState({msg:\"your details is changed!\"});\r\n     })\r\n      })\r\n    }\r\n    else{\r\n     this.setState({msg:\"try again!!\"});\r\n    }\r\n   }\r\n\r\n\r\n\r\n   //\r\n\r\n        }\r\n        else{\r\n          this.setState({msg:\"the password is not correct\"});\r\n        }\r\n      }\r\n    \r\n/*\r\n\r\n   /**\r\n   * onChangeemail submission \r\n   * @function onChangeemail\r\n   * @param  {event} - submit event\r\n   */\r\n    \r\n    onChangeemail = e => {\r\n      this.setState({\r\n        newemail: e.target.value\r\n      });\r\n      let newemailerror = this.state.newemailError;\r\n      newemailerror =\r\n        !emailRegax.test(e.target.value) ||\r\n        e.target.value.trim() === \"\" ||\r\n        e.target.value.length > 100 ||\r\n        e.target.value.length < 5 ||\r\n        e.target.value.length === 0\r\n          ? \"InvalidEmail!\"\r\n          : \"\";\r\n      this.setState({ newemailError: newemailerror });\r\n      if(newemailerror===\"\")\r\n      {\r\n        this.setState({changeemail:true})\r\n      }\r\n    };\r\n\r\n\r\n    onChangephonenumber = e =>{\r\n      this.setState({\r\n        newphonenumber: e.target.value,\r\n      });\r\n\r\n      let newphonenumbererror = this.state.newphonenumberError;\r\n      newphonenumbererror =\r\n        !phonenumberRegex.test(e.target.value)||\r\n        e.target.value.trim() === \"\" ||\r\n        e.target.value.length !== 10 ||\r\n        e.target.value.length === 0\r\n          ? \"InvalidPhoneNumber\"\r\n          : \"\";\r\n      this.setState({ newphonenumberError: newphonenumbererror });\r\n      if(newphonenumbererror===\"\")\r\n      {\r\n        this.setState({changephonenumber:true})\r\n      }\r\n    }\r\n   /*\r\n  /**\r\n   * onChangepassword submission \r\n   * @function onChangepassword\r\n   * @param  {event} - submit event\r\n   */ \r\n    onChangepassword = e => {\r\n      this.setState({\r\n        passwordd: e.target.value\r\n      });\r\n    }\r\n    /*\r\n    /**\r\n   * onChangeage submission \r\n   * @function onChangeage\r\n   * @param  {event} - submit event\r\n   */ \r\n    \r\n      onChangeage = e => {\r\n        if(e.target.value<=9 || e.target.value >=90)\r\n        {\r\n          this.setState({newageError:\" Sorry!! Min age is 10 an Max age is 90\"})\r\n        }\r\n        else{\r\n        this.setState({\r\n          newage: e.target.value,\r\n          newageError:\"\",\r\n          changeage:true\r\n        });\r\n      }\r\n\r\n    }\r\n/*\r\n    /**\r\n   * onChangeusername submission \r\n   * @function onChangeusername\r\n   * @param  {event} - submit event\r\n   */ \r\n    \r\n    onChangeusername= e=>{\r\n      this.setState({\r\n        newdisplay_name: e.target.value\r\n      });\r\n      let usernameerror = this.state.newusernameError;\r\n      usernameerror =\r\n        e.target.value.length > 16 ||\r\n        e.target.value.length === 0 ||\r\n        e.target.value.trim() === \"\" ||\r\n        e.target.value.length < 6\r\n          ? \"minimum 6charchters And Maxmium 16 charchters are required\"\r\n          : \"\";\r\n      this.setState({ newusernameError: usernameerror });\r\n      if (this.state.newusernameError===\"\")\r\n      {\r\n        this.setState({changeusername: true})\r\n      }\r\n    }\r\n\r\n    /*\r\n    /**\r\n   * onChangegender submission \r\n   * @function onChangegender \r\n   * @param  {event} - submit event\r\n   */ \r\n    \r\n    onChangegender = e =>{\r\n      this.setState({\r\n        newgender: e.target.value,\r\n        changegender:true,\r\n      });\r\n    }\r\n/*\r\n  /**\r\n   * cancelEdit submission \r\n   * @function cancelEdit \r\n   * @param  {event} - submit event\r\n   */\r\n    cancelEdit =e =>{\r\n      //go to home again\r\n      return (window.location.href = \"/account\");\r\n    }\r\n\r\n\r\n    \r\n  \r\n\r\n    render() {\r\n      const data=this.state.data;\r\n      console.warn(data);\r\n\r\n        var name =this.state.data.display_name || \"\";\r\n        var e = this.state.data.email || \"\";\r\n        var aa = this.state.data.age || \"\";\r\n\r\n\r\n       return(\r\n\r\n         <div style={{paddingBottom:200}} className=\"editprofileform\"> \r\n\r\n\r\n         <br></br>\r\n         <br></br>\r\n            <h1> Edit Your Profile</h1>\r\n            <br></br>\r\n           <label className=\"labels\">Email</label>\r\n           <br></br>\r\n           \r\n            <input\r\n            onChange={this.onChangeemail}\r\n            type=\"text\"\r\n            placeholder={e}\r\n            name=\"newemail\"\r\n            className=\"forminput\"\r\n            id =\"emailid\"\r\n          />\r\n          <div className=\"errormsg\">{this.state.newemailError}</div>\r\n          <br></br>\r\n        \r\n          <label className=\"labels\">Username</label>\r\n           <br></br>\r\n           \r\n            <input\r\n            onChange={this.onChangeusername}\r\n            type=\"text\"\r\n            placeholder={name}\r\n            name=\"newdisplay_name\"\r\n            className=\"forminput\"\r\n            id=\"usernameid\"\r\n          />\r\n          <div className=\"errormsg\">{this.state.newusernameError}</div>\r\n          <br></br>\r\n<label className=\"labels\">Age</label>\r\n          <input\r\n            onChange={this.onChangeage}\r\n            type=\"number\"\r\n            placeholder={aa}\r\n            name=\"newage\"\r\n            className=\"forminput\"\r\n            id =\"ageid\"\r\n            maxLength=\"2\"\r\n            minLength=\"1\"\r\n            pattern=\"[0-9]*\" \r\n            \r\n          />\r\n          <div className=\"errormsg\">{this.state.newageError}</div>\r\n\r\n\r\n<br>\r\n</br>\r\n\r\n\r\n          <label className=\"labels\">Confirmation Password</label>\r\n          <br></br>\r\n\r\n          <input\r\n            onChange={this.onChangepassword}\r\n            type=\"password\"\r\n            placeholder=\"Enter Your Password To Confirm Edits\"\r\n            name=\"passwordid\"\r\n            className=\"forminput\"\r\n            required=\"required\"\r\n            id=\"pass\"\r\n          />\r\n          \r\n         \r\n\r\n          <br></br>\r\n          <label className=\"labels\">Phone Number</label>\r\n          <br></br>\r\n\r\n          <input\r\n            onChange={this.onChangephonenumber}\r\n            type=\"phonenumber\"\r\n            maxLength=\"10\"\r\n            placeholder=\"Enter phone number after '0'\"\r\n            name=\"newphonenumber\"\r\n            pattern=\"[0-9]*\"\r\n            className=\"forminput\"\r\n          />\r\n        <div className=\"errormsg\">{this.state.newphonenumberError}</div>\r\n          <br></br>\r\n\r\n          <br></br>\r\n\r\n\r\n\r\n         \r\n\r\n          <div className=\"errormsg\">{this.state.msg}</div>\r\n              \r\n          <button className=\"buttonprem\" onClick={this.cancelEdit }>Cancel Edits</button>\r\n   <button className=\"buttonprem2\" onClick={this.saveEdit }>Save Edits</button>\r\n          \r\n\r\n           </div>        \r\n );}\r\n       \r\n    \r\n}\r\nexport default EditProfile;\r\n//  //#1db954;"]},"metadata":{},"sourceType":"module"}